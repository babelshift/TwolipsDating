@model TwolipsDating.ViewModels.TriviaMenuViewModel
@{
    ViewBag.Title = "answer trivia and quizzes";
    ViewBag.Description = "twolips dating is a community focused on providing people with the ability to meet likeminded friends and colleagues through a variety of activities and challenges.";
    ViewBag.ImageUrl = Url.Content("~/Content/twolipsicon-white-180x180.png");
}

@if (Model.IsCurrentUserEmailConfirmed)
{
    <div class="row">
        <div class="col-md-8">
            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <h4 class="panel-title"><i class="glyphicon glyphicon-education"></i> Trivia</h4>
                </div>
                <div class="panel-body text-center">
                    <div class="col-sm-6">
                        <h3><i class="glyphicon glyphicon-random"></i> <a href="@Url.Action("random")">Random</a></h3>
                        <p>Each question is randomly selected from a pool of questions without any time limit.</p>
                    </div>
                    <div class="col-sm-6">
                        <h3><i class="glyphicon glyphicon-time"></i> <a href="@Url.Action("timed")">Timed</a></h3>
                        <p>Each question is randomly selected from a pool of questions with a 10 second time limit.</p>
                    </div>
                </div>
            </div>
            <div class="ad">
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- TriviaDashboard - Middle - 1 -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-1823005717277864"
                     data-ad-slot="1241673033"
                     data-ad-format="auto"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <h4 class="panel-title"><i class="glyphicon glyphicon-king"></i> Quizzes</h4>
                </div>
                <div class="panel-body text-center">
                    @foreach (var quiz in Model.NewQuizzes)
                    {
                        <div class="col-lg-4 col-md-6 col-sm-4" style="max-height: 175px; min-height: 175px">
                            <h4><a href="@Url.Action("quiz", new { id = quiz.Id })">@quiz.Name</a></h4>
                            @if (quiz.IsComplete)
                            {
                                <p class="label label-success">Completed</p>
                            }
                            else
                            {
                                if (quiz.AveragePoints > 0)
                                {
                                    @Html.Partial("_DashboardQuizRatingBarPartial", quiz.AveragePoints)
                                }
                                else
                                {
                                    <p class="label label-danger">No bonus</p>
                                }
                            }
                            <br />
                            <small style="margin-top: 5px;">@quiz.Description</small>
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-6">
            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <h4 class="panel-title"><i class="glyphicon glyphicon-stats"></i> Your Stats</h4>
                </div>
                <ul class="list-group">
                    <li class="list-group-item">Total Points<span class="badge">@Model.UserStats.TotalPoints</span></li>
                    <li class="list-group-item">Questions Answered<span class="badge">@Model.UserStats.QuestionsAnswered</span></li>
                    <li class="list-group-item">Questions Answered Correctly<span class="badge">@Model.UserStats.QuestionsAnsweredCorrectly</span></li>
                    <li class="list-group-item">Random Questions Answered<span class="badge">@Model.UserStats.RandomQuestionsAnswered</span></li>
                    <li class="list-group-item">Random Questions Answered Correctly<span class="badge">@Model.UserStats.RandomQuestionsAnsweredCorrectly</span></li>
                    <li class="list-group-item">Timed Questions Answered<span class="badge">@Model.UserStats.TimedQuestionsAnswered</span></li>
                    <li class="list-group-item">Timed Questions Answered Correctly<span class="badge">@Model.UserStats.TimedQuestionsAnsweredCorrectly</span></li>
                    <li class="list-group-item">Quiz Questions Answered<span class="badge">@Model.UserStats.QuizQuestionsAnswered</span></li>
                    <li class="list-group-item">Quiz Questions Answered Correctly<span class="badge">@Model.UserStats.QuizQuestionsAnsweredCorrectly</span></li>
                    <li class="list-group-item">Quizzes Completed<span class="badge">@Model.UserStats.QuizzesCompleted</span></li>
                </ul>
            </div>
        </div>
        <div class="col-md-4 col-sm-6">
            @if (Model.RecentlyCompletedQuizzes != null && Model.RecentlyCompletedQuizzes.Count > 0)
            {
                <div class="panel panel-default">
                    <div class="panel-heading text-center">
                        <h4 class="panel-title"><i class="glyphicon glyphicon-certificate"></i> Recently Completed</h4>
                    </div>
                    <div class="list-group">
                        @foreach (var quiz in Model.RecentlyCompletedQuizzes)
                        {
                            <a href="@Url.Action("index", "profile", new { id = quiz.ProfileId })" class="list-group-item" style="padding: 5px 10px">
                                <span class="badge" style="margin-top: 15px">@quiz.TimeAgo</span>
                                @Html.Partial("_ProfileImagePartial", quiz.ProfileImagePath)
                                <div class="profile-info-wrapper">
                                    <span class="name-and-location">
                                        @quiz.UserName
                                    </span>
                                    <br />
                                    <span style="color: #999">@quiz.QuizName</span>
                                </div>
                            </a>
                        }
                    </div>
                </div>
            }
        </div>
    </div>
}
else
{
    <h4>You need to confirm your email address before you can play trivia.</h4>
}