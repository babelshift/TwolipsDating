@model TwolipsDating.ViewModels.MessageFeedViewModel

@* user sending something *@
@if (Model.SenderUserName == User.Identity.Name)
{
    <p style="display: inline-block; vertical-align: top; margin-top: 4px;">
        You sent a message to
    </p>
    if (!String.IsNullOrEmpty(Model.ReceiverProfileImagePath))
    {
        <div class="circular-image-wrapper">
            <img class="circular-image" src="@Model.ReceiverProfileImagePath" />
        </div>
    }
    else
    {
        <div class="circular-image-wrapper">
            <img class="circular-image" src="~/Content/Placeholder.png">
        </div>
    }
    <p style="display: inline-block; vertical-align: top; margin-top: 4px;">
        <a href="@Url.Action("index", "profile", new { id = Model.ReceiverProfileId })">@Model.ReceiverUserName</a>
        <small> &bull;&nbsp;@Model.TimeAgo</small>
    </p>
    <p style="margin-top: 5px;" class="pull-right">
        <a href="@Url.Action("conversation", "message", new{ id = Model.ReceiverUserId })" class="btn btn-default btn-xs" title="View conversation">
            <i class="glyphicon glyphicon-envelope"></i>
        </a>
    </p>
    <div class="well well-sm wrap-long-lines" style="margin-bottom: 0">
        <small>@Model.MessageContent</small>
    </div>
}
    @* user receiving something *@
else
{

    if (!String.IsNullOrEmpty(Model.SenderProfileImagePath))
    {
        <div class="circular-image-wrapper">
            <img class="circular-image" src="@Model.SenderProfileImagePath" />
        </div>
    }
    <p style="display: inline-block; vertical-align: top; margin-top: 4px;">
        <a href="@Url.Action("index", "profile", new { id = Model.SenderProfileId })">@Model.SenderUserName</a> sent you a message
        <small> &bull;&nbsp;@Model.TimeAgo</small>
    </p>
    <p style="margin-top: 5px;" class="pull-right">
        <a href="@Url.Action("conversation", "message", new{ id = Model.SenderUserId })" class="btn btn-default btn-xs" title="View conversation">
            <i class="glyphicon glyphicon-envelope"></i>
        </a>
    </p>
    <div class="well well-sm wrap-long-lines" style="margin-bottom: 0">
        <small>@Model.MessageContent</small>
    </div>
}